nss (3.12.0-4) unstable; urgency=low

  * debian/control: Remove conflict with libnss3-0d, it was only useful when
    libnss3-0d was a transitional package. Closes: #490995.

 -- Mike Hommey <glandium@debian.org>  Wed, 16 Jul 2008 21:29:19 +0200

nss (3.12.0-3) unstable; urgency=low

  * debian/rules:
    + Enable ECC cypher suite. Closes: #490826.
    + Build with the same optimization level as upstream.

 -- Mike Hommey <glandium@debian.org>  Mon, 14 Jul 2008 17:35:25 +0200

nss (3.12.0-2) unstable; urgency=low

  * debian/patches/95_add_spi+cacert_ca_certs.dpatch:
    + Add CAcert root and class 3 certificates to nssckbi module.
    + Add SPI Inc. certificate to nssckbi module.
    Thanks to Martin F Krafft for these. Closes: #309564.
  * debian/patches/00list: Updated accordingly.

 -- Mike Hommey <glandium@debian.org>  Sat, 12 Jul 2008 18:26:09 +0200

nss (3.12.0-1) unstable; urgency=low

  * New upstream release.
  * debian/patches/92_ocsp.dpatch: Removed, as applied upstream.
  * debian/patches/00list: Updated accordingly.
  * debian/control:
    + Bumped Standards-Version to 3.8.0.1. No changes needed.
    + Added Vcs-Browser and Vcs-Git fields.
    + libnss3-dev don't need explicit version dependency on libnss3-1d.
    + libnss3-dev depends on libnspr4-dev. Closes: #488402.
    + Make the -dbg package less a hassle for manual installations with dpkg.
    + libnss3-1d depends on version of dpkg that either don't support symbols
      files or has fix for #474079.
  * debian/patches/85_security_load.dpatch: Load files from /usr/lib/nss if
    given reference path is only a filename, which happens when freebl is
    statically linked in a binary executable, such as signtool, and the
    executable is run from $PATH. When the executable is run using a full
    path, we must replace /bin/ in the path with /lib/ to find the libraries.
    Closes: #483774.
  * debian/libnss3-1d.symbols: Re-enable symbols file.

 -- Mike Hommey <glandium@debian.org>  Sat, 05 Jul 2008 10:19:53 +0200

nss (3.12.0~rc3-3) unstable; urgency=low

  * debian/control: Make libnss3-0d conflict with old libnss3, which can
    still be installed on some systems, though it hasn't been in the archive 
    since sarge. Closes: #485080.

 -- Mike Hommey <glandium@debian.org>  Sun, 08 Jun 2008 14:11:13 +0200

nss (3.12.0~rc3-2) unstable; urgency=low

  * debian/patches/92_ocsp.dpatch: Apply patches from bz433594 and bz#433386,
    which are applied in upstream RC4 (and are the only changes), to fix
    crashes under some conditions with OCSP checks.
  * debian/patches/00list: Updated accordingly.
  * debian/libnss3-dev.links, debian/libnss3-1d.links: Don't install so
    files in the -dev package but in the library package. It will allow
    external applications linked against upstream nss to work on Debian with
    system nss libraries, and will avoid all browsers to have to implement
    symlinks themselves to allow some external plugins to work properly.
  * debian/control: Make libnss3-1d conflict with older versions of
    libnss3-dev and libnss3-dev need newer libnss3-1d accordingly.

 -- Mike Hommey <glandium@debian.org>  Sat, 07 Jun 2008 11:57:55 +0200

nss (3.12.0~rc3-1) unstable; urgency=low

  * New upstream snapshot, picked from NSS_3_12_RC3 cvs tag.

 -- Mike Hommey <glandium@debian.org>  Sun, 11 May 2008 16:58:17 +0200

nss (3.12.0~beta3-1) unstable; urgency=low

  * New upstream snapshot, picked from NSS_3_12_BETA3 cvs tag.
  * debian/control: Turn Homepage indications in descriptions into a
    control field.
  * debian/patches/91_build_pwdecrypt.dpatch: Enable building and installing
    pwdecrypt. Thanks Paul Wise. Closes: #472303.
  * debian/patches/00list: Updated accordingly.
  * debian/libnss3-1d.symbols: Update symbols file with new symbols and rename
    the file, so that it isn't used, as a workaround to #474079.
    Closes: #474007.
  * debian/rules: Bumped shlibs.

 -- Mike Hommey <glandium@debian.org>  Tue, 08 Apr 2008 21:23:53 +0200

nss (3.12.0~beta2-1) unstable; urgency=low

  * New upstream snapshot, picked from NSS_3_12_BETA2 cvs tag.
  * debian/patches/10_3.11.7_symbol_fix.dpatch: Removed, as applied upstream.
  * debian/patches/38_kbsd.dpatch: Adapted to upstream changes.
  * debian/patches/81_sonames.dpatch: Add SO_VERSION to libnssutil3.
  * debian/libnss3-dev.links: Add link for libnssutil3.
  * debian/libnss3-1d.symbols: Update symbols file with new symbols. Note that
    SEC_StringToOID disappeared (well, was moved to nssutil), compared to
    version 3.12.0~1.9b1, but it was a new symbol, and isn't used anywhere.
  * debian/nss.pc.in, debian/nss-config.in: Add libnssutil3 support.
  * debian/rules:
    + Bumped shlibs.
    + Don't generate libsoftokn3.so.0d.
  * debian/control:
    + Remove transitional libnss3-0d package.
    + Bumped Standards-Version to 3.7.3.0. No changes needed.
    + Build depend on libnspr4-dev >= 4.7.0 (we *do* need the RTM version, and
      not the preceding betas)
  * debian/libnss3-0d.*: Removed.
  * debian/patches/85_security_load.dpatch: Load files from $ORIGIN/nss before
    those of $ORIGIN. Closes: #469079.
  * debian/patches/38_hurd.dpatch: Fix FTBFS on Hurd because of MAXPATHLEN.
    Closes: #419529.
  * debian/patches/00list: Updated accordingly.

 -- Mike Hommey <glandium@debian.org>  Fri, 07 Mar 2008 21:27:54 +0100

nss (3.12.0~1.9b1-2) unstable; urgency=low

  * debian/control: libnss3-1-dbg needs to conflict with older libnss3-0d-dbg,
    as it overwrites so of its files. Closes: #455875.
  * debian/patches/90_realpath.dpatch: Use realpath() in
    loader_GetOriginalPathname, so that symlinks are properly followed when
    determining where the current library lives.
  * debian/patches/00list: Updated accordingly.
  * debian/patches/85_security_load.dpatch: When the module given by the
    caller contains a directory name, remove it so that the module can be
    properly loaded. Closes: #456296.

 -- Mike Hommey <glandium@debian.org>  Sun, 16 Dec 2007 11:06:03 +0100

nss (3.12.0~1.9b1-1) unstable; urgency=low

  * New upstream snapshot, picked from FIREFOX_3_0b1_RELEASE cvs tag.
  * debian/copyright: Add licensing information about the recently added
    sqlite copy in the source tree.
  * debian/control:
    + Build depend on libsqlite3-dev.
    + Rename all -0d packages to -1d, but keep a transitional -0d package,
      since all libraries are compatible (except for the removed one).
    + Make libnss3-1d conflict with older libnss3-0d.
  * debian/patches/38_kbsd.dpatch, debian/patches/81_sonames.dpatch:
    Adapted to upstream changes.
  * debian/patches/81_sonames.dpatch:
    + Remove SO version from libsoftokn3, now it is not linked against
      anymore, but dlloaded.
    + Remove the hacks to have shlibsign and the signature verification code
      handle the SO version in the file name.
    + Bump SO version to 1d.
  * debian/rules:
    + Add NSS_USE_SYSTEM_SQLITE=1 to the make options.
    + Install libsoftokn3 and the new libnssdbm3 in /usr/lib/nss.
    + Run shlibsign on libsoftokn3 in /usr/lib/nss, without a SO version.
    + For some reason, build-stamp was missing in install-stamp dependencies.
    + Bumped shlibs because of new symbols, and pass -c4 to dpkg-gensymbols,
      so that it fails in all cases where the symbols file is not up to date.
    + Adapt upstream version pattern matching so that the ~1.9b1 part is
      removed.
    + Install .1d libraries in -1d packages.
    + Create a dummy libsoftokn3.so.0d library, installed in the libnss3-0d
      package.
  * debian/libnss3-0d.links:
    + Remove links in /usr/lib/xulrunner. The workaround they were
      implementing is going to be done another way.
    + Add .0d links to .1d libraries.
  * debian/libnss3-dev.links:
    + Don't put a symlink for libsoftokn3.
    + .so files now link to .1d libraries.
  * debian/patches/80_security_build.dpatch: Remove the hack to load libfreebl
    from /usr/lib/nss.
  * debian/patches/85_security_load.dpatch: Load modules from $ORIGIN/nss.
  * debian/patches/10_3.11.7_symbol_fix.dpatch: Fix a symbol version. Stolen
    from bz#325672.
  * debian/patches/00list: Updated accordingly.
  * debian/libnss3-0d.dirs: Renamed to libnss3-1d.dirs.

 -- Mike Hommey <glandium@debian.org>  Sat, 08 Dec 2007 10:53:02 +0100

nss (3.11.7-1) unstable; urgency=low

  * New upstream release, picked from NSS_3_11_7_RTM cvs tag.
  * debian/patches/38_kbsd.dpatch: Also add support for the Hurd.
    Closes: #419529.
  * debian/rules:
    + Don't fail on clean with unpatched ruleset. Closes: #421542.
    + Bumped shlibs because of new symbols.
  * debian/patches/81_sonames.dpatch: Adapted to upstream changes.

 -- Mike Hommey <glandium@debian.org>  Sun, 01 Jul 2007 11:29:06 +0200

nss (3.11.5-3) unstable; urgency=low

  * Upload to unstable.

 -- Mike Hommey <glandium@debian.org>  Mon, 09 Apr 2007 20:37:25 +0200

nss (3.11.5-2) experimental; urgency=low

  * debian/rules:
    + Cleaner way to set the NSPR location.
    + Install libcrmf.a files in libnss3-dev.
    + binary-indep now does nothing.
  * debian/control: Make libnss3-dev an Arch: any package.
  * debian/nss.pc.in:
    + Remove libsoftokn3 from ld libraries.
    + Improvement in directories setting.
  * debian/libnss3-dev.dirs: Create /usr/bin.
  * debian/nss-config.in, debian/rules: Install a nss-config script into
    libnss3-dev.

 -- Mike Hommey <glandium@debian.org>  Tue, 27 Mar 2007 20:41:11 +0200

nss (3.11.5-1) experimental; urgency=low

  * Initial release. (Closes: #416151)

 -- Mike Hommey <glandium@debian.org>  Sun, 25 Mar 2007 23:56:17 +0200
